<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Canvas Test</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="http://staticcf.s3.amazonaws.com/wi_css.css" type="text/css" />


</head>

<body>

  <div id="wi_wrap">
    <div id="wi_inner">


      <h1>Canvas </h1>

      <div id="canvasdiv">
          <canvas id="mycanvas" width="640" height="480">

          </canvas>
      </div>

<!--end your content -->
</div>
</div>

<script src="http://us-census-app2.0.s3.amazonaws.com/production/js/jquery-1.9.1.min.js" type="text/javascript">
</script>
  <script src="http://staticcf.s3.amazonaws.com/wi_js.js" type="text/javascript"> </script>

// <script id="canvasControls" type="text/javascript">
//   jQuery(document).ready(function() {

//    // init facebox
//    jQuery('a[rel*=facebox]').facebox();





//     var canvas = document.getElementById('mycanvas');
//     var context = canvas.getContext('2d');
//     var imgObj = new Image();
//     var origin = {
//       x: 0,
//       y : 0
//     }
//     var width = 200;
//     var height = 200;

//     var sources = {
//       CloudFactory : "https://si0.twimg.com/profile_images/1883520356/CloudFactory.png",
//       yoda : "http://www.merojob.com/uploads/employers/Sprout-25-7-2011-15-07-30Sprout%20Logo.jpg"
//     }

//       context.scale(-1, -1);
//       debugger;
//     loadImages(sources, function(images){
//       // context.drawImage(images.CloudFactory, 0 ,0 , 200, 200);
//       context.drawImage(images.yoda, 220 ,0 , 200, 200);
//       // debugger;

//       //flip the content of the canvas

//       // translate context to center of canvas
//       context.translate(canvas.width / 2, canvas.height / 2);

//       // flip context horizontally

//       context.scale(-1, -1);
//       context.font = '30pt Calibri';
//       context.textAlign = 'center';
//       context.fillStyle = 'blue';
//       context.fillText('Hello World!', 0, 0);//
//     });
//   });

//    loadImages = function(sources, callback) {
//     var images = {};
//     var loadedImages = 0;
//     var numImages = 0;
//     //get number of images
//     for (var src in sources) {
//       numImages++;
//     }

//     for (var src in sources) {
//       images[src] = new Image();
//       images[src].onload = function() {
//         if (++loadedImages >= numImages) {
//           callback(images);
//         }
//       }
//       images[src].src = sources[src];
//     }
//   }
//   </script>
<script id="animation">
window.requestAnimFrame = (function(callback) {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
        function(callback) {
          window.setTimeout(callback, 1000 / 60);
        };
      })();
  var  xPosition = 0;
  var  yPosition = 0;

function animate(){
  console.log("animation called")
  var canvas = document.getElementById('mycanvas');
  var context = canvas.getContext('2d');


  //update


  //clear
  context.clearRect(0 ,0 , canvas.width , canvas.height);

  //creating stuffs
  context.fillRect(xPosition++, yPosition++, 10, 10)
  debugger;

  //request  newframe
  requestAnimFrame( function (){
    animate();
  });
  if (xPosition > 200) return false;
}

  animate();

</script>

</script>
</body>
</html>
